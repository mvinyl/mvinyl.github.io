{"version":3,"sources":["webgl.js","util.js","twitter.svg","twitch.svg","soundcloud.svg","youtube.svg","space-3d.js","skybox.js","app.js","serviceWorker.js","index.js"],"names":["GLBuffer","gl","this","initialize","buffer","createBuffer","bind","bindBuffer","ARRAY_BUFFER","set","data","bufferData","STATIC_DRAW","module","exports","buildAttribs","layout","attribs","key","size","getExtensions","extArray","ext","i","length","e","getExtension","Error","Framebuffer","color","depth","fb","createFramebuffer","drawBuffers","push","drawBuffersWEBGL","framebufferTexture2D","FRAMEBUFFER","TEXTURE_2D","texture","COLOR_ATTACHMENT0","undefined","DEPTH_ATTACHMENT","bindFramebuffer","Texture","index","width","height","options","target","mag","NEAREST","min","wraps","CLAMP_TO_EDGE","wrapt","internalFormat","RGBA","format","type","UNSIGNED_BYTE","activate","createTexture","texImage2D","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","generateMipmap","bindTexture","activeTexture","TEXTURE0","reset","Renderable","program","buffers","primitiveCount","render","name","use","location","console","log","enableVertexAttribArray","vertexAttribPointer","FLOAT","drawArrays","TRIANGLES","disableVertexAttribArray","attributes","InstancedRenderable","instancedExt","vertexAttribDivisorANGLE","divisor","drawArraysInstancedANGLE","Program","vertexSource","fragmentSource","compileProgram","gatherAttribs","uniforms","gatherUniforms","useProgram","vertexShader","compileShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","source","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","err","getShaderInfoLog","lineno","parseInt","split","q","warn","typeString","setUniform","value","args","Array","prototype","slice","call","arguments","apply","concat","nUniforms","ACTIVE_UNIFORMS","uniform","getActiveUniform","getUniformLocation","nAttribs","ACTIVE_ATTRIBUTES","attrib","getActiveAttrib","getAttribLocation","webgl","require","loadProgram","replace","__webpack_require__","p","glm","util","rng","NSTARS","buildStar","pos","dist","rand","b","c","Math","pow","random","vertices","position","ii","rot","a","theta","acos","vec3","dot","omega","create","cross","normalize","quat","setAxisAngle","quatRotBetweenVecs","fromValues","transformQuat","buildBox","aPosition","Float32Array","count","randomRotation","mat4","rotateX","PI","rotateY","rotateZ","randomVec3","v","transformMat4","hashcode","str","hash","charCodeAt","Space3D","Object","C_xampp_htdocs_octavia_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","canvas","document","createElement","getContext","enable","BLEND","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ZERO","ONE","nebula","pointStars","star","sun","toString","pNebula","pPointStars","pStar","pSun","MT","aColor","rPointStars","rNebula","rSun","rStar","C_xampp_htdocs_octavia_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","params","textures","resolution","viewport","seed","pStarParams","rotation","starParams","stars","falloff","nebulaParams","nebulae","scale","intensity","offset","sunParams","dirs","front","up","back","left","right","top","bottom","model","view","projection","perspective","keys","clearColor","clear","COLOR_BUFFER_BIT","dir","lookAt","j","ps","mul","s","drawImage","Skybox","renderCanvas","pixelStorei","UNPACK_FLIP_Y_WEBGL","skybox","pSkybox","rSkybox","aUV","buildQuad","canvases","LINEAR_MIPMAP_LINEAR","LINEAR","fov","getElementById","window","innerWidth","innerHeight","space","tick","App","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","renderSpace","assertThisInitialized","renderTextures","style","display","unifiedTexture","setTextures","ctx","drawIndividual","targetId","hideUnified","hideSplit","cos","sin","requestAnimationFrame","react_default","className","href","rel","src","twitter","alt","twitch","soundcloud","youtube","React","Component","Boolean","hostname","match","ReactDOM","src_app","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.21df8b38.chunk.js","sourcesContent":["function buildAttribs(gl, layout) {\r\n  var attribs = {};\r\n\r\n  for (var key in layout) {\r\n    attribs[key] = {\r\n      buffer: new GLBuffer(gl),\r\n      size: layout[key]\r\n    }\r\n  }\r\n  return attribs;\r\n}\r\nmodule.exports.buildAttribs = buildAttribs;\r\n\r\n\r\n// ****\r\nfunction getExtensions(gl, extArray) {\r\n  var ext = {};\r\n\r\n  for (var i = 0; i < extArray.length; i++) {\r\n    var e = gl.getExtension(extArray[i]);\r\n    if (e === null) {\r\n      throw Error('Extension ' + extArray[i] + 'not available.');\r\n    }\r\n    ext[extArray[i]] = e;\r\n  }\r\n  return ext;\r\n}\r\nmodule.exports.getExtensions = getExtensions;\r\n\r\n\r\n// ****\r\nfunction Framebuffer(gl, color, depth, ext) {\r\n  this.initialize = function () {\r\n    this.fb = gl.createFramebuffer();\r\n    this.bind();\r\n    if (color.length > 1) {\r\n      var drawBuffers = [];\r\n      for (var i = 0; i < color.length; i++) {\r\n        drawBuffers.push(ext['COLOR_ATTACHMENT' + i + '_WEBGL']);\r\n      }\r\n      ext.drawBuffersWEBGL(drawBuffers);\r\n      for (i = 0; i < color.length; i++) {\r\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, ext['COLOR_ATTACHMENT' + i + '_WEBGL'],\r\n          gl.TEXTURE_2D, color[i].texture, 0);\r\n      }\r\n    } else {\r\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, color[0].texture, 0);\r\n    }\r\n\r\n    if (depth !== undefined) {\r\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, depth.texture, 0);\r\n    }\r\n  };\r\n\r\n  this.bind = function () {\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.fb);\r\n  }\r\n\r\n  this.initialize();\r\n}\r\nmodule.exports.Framebuffer = Framebuffer;\r\n\r\n\r\n// ****\r\nfunction Texture(gl, index, data, width, height, options) {\r\n  options = options || {};\r\n  options.target = options.target || gl.TEXTURE_2D;\r\n  options.mag = options.mag || gl.NEAREST;\r\n  options.min = options.min || gl.NEAREST;\r\n  options.wraps = options.wraps || gl.CLAMP_TO_EDGE;\r\n  options.wrapt = options.wrapt || gl.CLAMP_TO_EDGE;\r\n  options.internalFormat = options.internalFormat || gl.RGBA;\r\n  options.format = options.format || gl.RGBA;\r\n  options.type = options.type || gl.UNSIGNED_BYTE;\r\n\r\n  this.initialize = function () {\r\n    this.index = index;\r\n    this.activate();\r\n    this.texture = gl.createTexture();\r\n    this.bind();\r\n    gl.texImage2D(options.target, 0, options.internalFormat, options.format, options.type, data);\r\n    gl.texParameteri(options.target, gl.TEXTURE_MAG_FILTER, options.mag);\r\n    gl.texParameteri(options.target, gl.TEXTURE_MIN_FILTER, options.min);\r\n    gl.texParameteri(options.target, gl.TEXTURE_WRAP_S, options.wraps);\r\n    gl.texParameteri(options.target, gl.TEXTURE_WRAP_T, options.wrapt);\r\n    if (options.mag !== gl.NEAREST || options.min !== gl.NEAREST) {\r\n      gl.generateMipmap(options.target);\r\n    }\r\n  }\r\n\r\n  this.bind = function () {\r\n    gl.bindTexture(options.target, this.texture);\r\n  };\r\n\r\n  this.activate = function () {\r\n    gl.activeTexture(gl.TEXTURE0 + this.index);\r\n  };\r\n\r\n  this.reset = function () {\r\n    this.activate();\r\n    this.bind();\r\n    gl.texImage2D(options.target, 0, options.internalFormat, width, height,\r\n      0, options.format, options.type, data);\r\n  }\r\n\r\n  this.initialize();\r\n}\r\nmodule.exports.Texture = Texture;\r\n\r\n\r\n// ****\r\nfunction GLBuffer(gl) {\r\n  this.initialize = function () {\r\n    this.buffer = gl.createBuffer();\r\n  }\r\n\r\n  this.bind = function () {\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\r\n  }\r\n\r\n  this.set = function (data) {\r\n    this.bind();\r\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\r\n  }\r\n\r\n  this.initialize();\r\n};\r\nmodule.exports.GLBuffer = GLBuffer;\r\n\r\n\r\n// ****\r\nfunction Renderable(gl, program, buffers, primitiveCount) {\r\n  this.primitiveCount = primitiveCount;\r\n  this.initialize = function () { }\r\n\r\n  this.render = function () {\r\n    program.use();\r\n    for (var name in buffers) {\r\n      var buffer = buffers[name].buffer;\r\n      var size = buffers[name].size;\r\n      try {\r\n        var location = program.attribs[name].location;\r\n      } catch (e) {\r\n        console.log('Could not find location for', name);\r\n        throw e;\r\n      }\r\n      buffer.bind();\r\n      gl.enableVertexAttribArray(location);\r\n      gl.vertexAttribPointer(location, size, gl.FLOAT, false, 0, 0);\r\n    }\r\n    gl.drawArrays(gl.TRIANGLES, 0, 3 * primitiveCount);\r\n    for (name in this.buffers) {\r\n      gl.disableVertexAttribArray(program.attributes[name].location);\r\n    }\r\n  }\r\n\r\n  this.initialize();\r\n};\r\nmodule.exports.Renderable = Renderable;\r\n\r\n\r\n// ****\r\nfunction InstancedRenderable(gl, program, buffers, primitiveCount, instancedExt) {\r\n  this.initialize = function () { }\r\n\r\n  this.render = function () {\r\n    program.use();\r\n    for (var name in buffers) {\r\n      var buffer = buffers[name].buffer;\r\n      var size = buffers[name].size;\r\n      try {\r\n        var location = program.attribs[name].location;\r\n      } catch (e) {\r\n        console.log('Could not find location for', name);\r\n        throw e;\r\n      }\r\n      buffer.bind();\r\n      gl.enableVertexAttribArray(location);\r\n      gl.vertexAttribPointer(location, size, gl.FLOAT, false, 0, 0);\r\n      instancedExt.vertexAttribDivisorANGLE(location, buffers[name].divisor);\r\n    }\r\n    instancedExt.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6 * 2 * 3, primitiveCount)\r\n    for (name in this.buffers) {\r\n      gl.disableVertexAttribArray(program.attributes[name].location);\r\n    }\r\n  }\r\n\r\n  this.initialize();\r\n};\r\nmodule.exports.InstancedRenderable = InstancedRenderable;\r\n\r\n\r\n// ****\r\nfunction Program(gl, vertexSource, fragmentSource) {\r\n  this.initialize = function () {\r\n    this.program = this.compileProgram(vertexSource, fragmentSource);\r\n    this.attribs = this.gatherAttribs();\r\n    this.uniforms = this.gatherUniforms();\r\n  }\r\n\r\n  this.use = function () {\r\n    gl.useProgram(this.program);\r\n  }\r\n\r\n  this.compileProgram = function (vertexSource, fragmentSource) {\r\n    var vertexShader = this.compileShader(vertexSource, gl.VERTEX_SHADER);\r\n    var fragmentShader = this.compileShader(fragmentSource, gl.FRAGMENT_SHADER);\r\n    var program = gl.createProgram();\r\n    gl.attachShader(program, vertexShader);\r\n    gl.attachShader(program, fragmentShader);\r\n    gl.linkProgram(program);\r\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n      console.log(gl.getProgramInfoLog(program));\r\n      throw new Error('Failed to compile program.');\r\n    }\r\n    return program;\r\n  }\r\n\r\n  this.compileShader = function (source, type) {\r\n    var shader = gl.createShader(type);\r\n    gl.shaderSource(shader, source);\r\n    gl.compileShader(shader);\r\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n      var err = gl.getShaderInfoLog(shader);\r\n      var lineno = parseInt(err.split(':')[2]);\r\n      var split = source.split('\\n');\r\n      for (var i in split) {\r\n        var q = parseInt(i);\r\n        console.log(q + '  ' + split[i]);\r\n        if (i === lineno - 1) {\r\n          console.warn(err);\r\n        }\r\n      }\r\n      var typeString = type === gl.VERTEX_SHADER ? 'vertex' : 'fragment';\r\n      throw Error('Failed to compile ' + typeString + ' shader.');\r\n    }\r\n    return shader;\r\n  }\r\n\r\n  this.setUniform = function (name, type, value) {\r\n    var args = Array.prototype.slice.call(arguments, 2);\r\n    this.use(); // Make this idempotent. At the context level, perhaps?\r\n    try {\r\n      var location = this.uniforms[name].location;\r\n    }\r\n    catch (e) {\r\n      console.log(name);\r\n      throw e;\r\n    }\r\n    gl['uniform' + type].apply(gl, [location].concat(args));\r\n  }\r\n\r\n  this.gatherUniforms = function () {\r\n    var uniforms = {};\r\n    var nUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\r\n    for (var i = 0; i < nUniforms; i++) {\r\n      var uniform = gl.getActiveUniform(this.program, i);\r\n      uniforms[uniform.name] = {\r\n        name: uniform.name,\r\n        location: gl.getUniformLocation(this.program, uniform.name),\r\n        type: uniform.type,\r\n        size: uniform.size\r\n      };\r\n    }\r\n    return uniforms;\r\n  }\r\n\r\n  this.gatherAttribs = function () {\r\n    var attribs = {};\r\n    var nAttribs = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\r\n    for (var i = 0; i < nAttribs; i++) {\r\n      var attrib = gl.getActiveAttrib(this.program, i);\r\n      attribs[attrib.name] = {\r\n        name: attrib.name,\r\n        location: gl.getAttribLocation(this.program, attrib.name),\r\n        type: attrib.type,\r\n        size: attrib.size\r\n      };\r\n    }\r\n    return attribs;\r\n  }\r\n  this.initialize();\r\n};\r\nmodule.exports.Program = Program;\r\n","var webgl = require('./webgl.js');\r\n\r\n\r\nmodule.exports.loadProgram = function (gl, source) {\r\n  var noise4d = `//\r\n  // GLSL textureless classic 4D noise \"cnoise\",\r\n  // with an RSL-style periodic variant \"pnoise\".\r\n  // Author:  Stefan Gustavson (stefan.gustavson@liu.se)\r\n  // Version: 2011-08-22\r\n  //\r\n  // Many thanks to Ian McEwan of Ashima Arts for the\r\n  // ideas for permutation and gradient selection.\r\n  //\r\n  // Copyright (c) 2011 Stefan Gustavson. All rights reserved.\r\n  // Distributed under the MIT license. See LICENSE file.\r\n  // https://github.com/ashima/webgl-noise\r\n  //\r\n  \r\n  vec4 mod289 (vec4 x)\r\n  {\r\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\r\n  }\r\n  \r\n  vec4 permute (vec4 x)\r\n  {\r\n    return mod289(((x*34.0)+1.0)*x);\r\n  }\r\n  \r\n  vec4 taylorInvSqrt (vec4 r)\r\n  {\r\n    return 1.79284291400159 - 0.85373472095314 * r;\r\n  }\r\n  \r\n  vec4 fade (vec4 t) {\r\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\r\n  }\r\n  \r\n  // Classic Perlin noise\r\n  float cnoise (vec4 P)\r\n  {\r\n    vec4 Pi0 = floor(P); // Integer part for indexing\r\n    vec4 Pi1 = Pi0 + 1.0; // Integer part + 1\r\n    Pi0 = mod289(Pi0);\r\n    Pi1 = mod289(Pi1);\r\n    vec4 Pf0 = fract(P); // Fractional part for interpolation\r\n    vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\r\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\r\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\r\n    vec4 iz0 = vec4(Pi0.zzzz);\r\n    vec4 iz1 = vec4(Pi1.zzzz);\r\n    vec4 iw0 = vec4(Pi0.wwww);\r\n    vec4 iw1 = vec4(Pi1.wwww);\r\n  \r\n    vec4 ixy = permute(permute(ix) + iy);\r\n    vec4 ixy0 = permute(ixy + iz0);\r\n    vec4 ixy1 = permute(ixy + iz1);\r\n    vec4 ixy00 = permute(ixy0 + iw0);\r\n    vec4 ixy01 = permute(ixy0 + iw1);\r\n    vec4 ixy10 = permute(ixy1 + iw0);\r\n    vec4 ixy11 = permute(ixy1 + iw1);\r\n  \r\n    vec4 gx00 = ixy00 * (1.0 / 7.0);\r\n    vec4 gy00 = floor(gx00) * (1.0 / 7.0);\r\n    vec4 gz00 = floor(gy00) * (1.0 / 6.0);\r\n    gx00 = fract(gx00) - 0.5;\r\n    gy00 = fract(gy00) - 0.5;\r\n    gz00 = fract(gz00) - 0.5;\r\n    vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\r\n    vec4 sw00 = step(gw00, vec4(0.0));\r\n    gx00 -= sw00 * (step(0.0, gx00) - 0.5);\r\n    gy00 -= sw00 * (step(0.0, gy00) - 0.5);\r\n  \r\n    vec4 gx01 = ixy01 * (1.0 / 7.0);\r\n    vec4 gy01 = floor(gx01) * (1.0 / 7.0);\r\n    vec4 gz01 = floor(gy01) * (1.0 / 6.0);\r\n    gx01 = fract(gx01) - 0.5;\r\n    gy01 = fract(gy01) - 0.5;\r\n    gz01 = fract(gz01) - 0.5;\r\n    vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\r\n    vec4 sw01 = step(gw01, vec4(0.0));\r\n    gx01 -= sw01 * (step(0.0, gx01) - 0.5);\r\n    gy01 -= sw01 * (step(0.0, gy01) - 0.5);\r\n  \r\n    vec4 gx10 = ixy10 * (1.0 / 7.0);\r\n    vec4 gy10 = floor(gx10) * (1.0 / 7.0);\r\n    vec4 gz10 = floor(gy10) * (1.0 / 6.0);\r\n    gx10 = fract(gx10) - 0.5;\r\n    gy10 = fract(gy10) - 0.5;\r\n    gz10 = fract(gz10) - 0.5;\r\n    vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\r\n    vec4 sw10 = step(gw10, vec4(0.0));\r\n    gx10 -= sw10 * (step(0.0, gx10) - 0.5);\r\n    gy10 -= sw10 * (step(0.0, gy10) - 0.5);\r\n  \r\n    vec4 gx11 = ixy11 * (1.0 / 7.0);\r\n    vec4 gy11 = floor(gx11) * (1.0 / 7.0);\r\n    vec4 gz11 = floor(gy11) * (1.0 / 6.0);\r\n    gx11 = fract(gx11) - 0.5;\r\n    gy11 = fract(gy11) - 0.5;\r\n    gz11 = fract(gz11) - 0.5;\r\n    vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\r\n    vec4 sw11 = step(gw11, vec4(0.0));\r\n    gx11 -= sw11 * (step(0.0, gx11) - 0.5);\r\n    gy11 -= sw11 * (step(0.0, gy11) - 0.5);\r\n  \r\n    vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\r\n    vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\r\n    vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\r\n    vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\r\n    vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\r\n    vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\r\n    vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\r\n    vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\r\n    vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\r\n    vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\r\n    vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\r\n    vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\r\n    vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\r\n    vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\r\n    vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\r\n    vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\r\n  \r\n    vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\r\n    g0000 *= norm00.x;\r\n    g0100 *= norm00.y;\r\n    g1000 *= norm00.z;\r\n    g1100 *= norm00.w;\r\n  \r\n    vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\r\n    g0001 *= norm01.x;\r\n    g0101 *= norm01.y;\r\n    g1001 *= norm01.z;\r\n    g1101 *= norm01.w;\r\n  \r\n    vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\r\n    g0010 *= norm10.x;\r\n    g0110 *= norm10.y;\r\n    g1010 *= norm10.z;\r\n    g1110 *= norm10.w;\r\n  \r\n    vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\r\n    g0011 *= norm11.x;\r\n    g0111 *= norm11.y;\r\n    g1011 *= norm11.z;\r\n    g1111 *= norm11.w;\r\n  \r\n    float n0000 = dot(g0000, Pf0);\r\n    float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\r\n    float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\r\n    float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\r\n    float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\r\n    float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\r\n    float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\r\n    float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\r\n    float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\r\n    float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\r\n    float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\r\n    float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\r\n    float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\r\n    float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\r\n    float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\r\n    float n1111 = dot(g1111, Pf1);\r\n  \r\n    vec4 fade_xyzw = fade(Pf0);\r\n    vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\r\n    vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\r\n    vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\r\n    vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\r\n    float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\r\n    return 2.2 * n_xyzw;\r\n  }\r\n  \r\n  // Classic Perlin noise, periodic version\r\n  float pnoise (vec4 P, vec4 rep)\r\n  {\r\n    vec4 Pi0 = mod(floor(P), rep); // Integer part modulo rep\r\n    vec4 Pi1 = mod(Pi0 + 1.0, rep); // Integer part + 1 mod rep\r\n    Pi0 = mod289(Pi0);\r\n    Pi1 = mod289(Pi1);\r\n    vec4 Pf0 = fract(P); // Fractional part for interpolation\r\n    vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\r\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\r\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\r\n    vec4 iz0 = vec4(Pi0.zzzz);\r\n    vec4 iz1 = vec4(Pi1.zzzz);\r\n    vec4 iw0 = vec4(Pi0.wwww);\r\n    vec4 iw1 = vec4(Pi1.wwww);\r\n  \r\n    vec4 ixy = permute(permute(ix) + iy);\r\n    vec4 ixy0 = permute(ixy + iz0);\r\n    vec4 ixy1 = permute(ixy + iz1);\r\n    vec4 ixy00 = permute(ixy0 + iw0);\r\n    vec4 ixy01 = permute(ixy0 + iw1);\r\n    vec4 ixy10 = permute(ixy1 + iw0);\r\n    vec4 ixy11 = permute(ixy1 + iw1);\r\n  \r\n    vec4 gx00 = ixy00 * (1.0 / 7.0);\r\n    vec4 gy00 = floor(gx00) * (1.0 / 7.0);\r\n    vec4 gz00 = floor(gy00) * (1.0 / 6.0);\r\n    gx00 = fract(gx00) - 0.5;\r\n    gy00 = fract(gy00) - 0.5;\r\n    gz00 = fract(gz00) - 0.5;\r\n    vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\r\n    vec4 sw00 = step(gw00, vec4(0.0));\r\n    gx00 -= sw00 * (step(0.0, gx00) - 0.5);\r\n    gy00 -= sw00 * (step(0.0, gy00) - 0.5);\r\n  \r\n    vec4 gx01 = ixy01 * (1.0 / 7.0);\r\n    vec4 gy01 = floor(gx01) * (1.0 / 7.0);\r\n    vec4 gz01 = floor(gy01) * (1.0 / 6.0);\r\n    gx01 = fract(gx01) - 0.5;\r\n    gy01 = fract(gy01) - 0.5;\r\n    gz01 = fract(gz01) - 0.5;\r\n    vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\r\n    vec4 sw01 = step(gw01, vec4(0.0));\r\n    gx01 -= sw01 * (step(0.0, gx01) - 0.5);\r\n    gy01 -= sw01 * (step(0.0, gy01) - 0.5);\r\n  \r\n    vec4 gx10 = ixy10 * (1.0 / 7.0);\r\n    vec4 gy10 = floor(gx10) * (1.0 / 7.0);\r\n    vec4 gz10 = floor(gy10) * (1.0 / 6.0);\r\n    gx10 = fract(gx10) - 0.5;\r\n    gy10 = fract(gy10) - 0.5;\r\n    gz10 = fract(gz10) - 0.5;\r\n    vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\r\n    vec4 sw10 = step(gw10, vec4(0.0));\r\n    gx10 -= sw10 * (step(0.0, gx10) - 0.5);\r\n    gy10 -= sw10 * (step(0.0, gy10) - 0.5);\r\n  \r\n    vec4 gx11 = ixy11 * (1.0 / 7.0);\r\n    vec4 gy11 = floor(gx11) * (1.0 / 7.0);\r\n    vec4 gz11 = floor(gy11) * (1.0 / 6.0);\r\n    gx11 = fract(gx11) - 0.5;\r\n    gy11 = fract(gy11) - 0.5;\r\n    gz11 = fract(gz11) - 0.5;\r\n    vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\r\n    vec4 sw11 = step(gw11, vec4(0.0));\r\n    gx11 -= sw11 * (step(0.0, gx11) - 0.5);\r\n    gy11 -= sw11 * (step(0.0, gy11) - 0.5);\r\n  \r\n    vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\r\n    vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\r\n    vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\r\n    vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\r\n    vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\r\n    vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\r\n    vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\r\n    vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\r\n    vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\r\n    vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\r\n    vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\r\n    vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\r\n    vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\r\n    vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\r\n    vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\r\n    vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\r\n  \r\n    vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\r\n    g0000 *= norm00.x;\r\n    g0100 *= norm00.y;\r\n    g1000 *= norm00.z;\r\n    g1100 *= norm00.w;\r\n  \r\n    vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\r\n    g0001 *= norm01.x;\r\n    g0101 *= norm01.y;\r\n    g1001 *= norm01.z;\r\n    g1101 *= norm01.w;\r\n  \r\n    vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\r\n    g0010 *= norm10.x;\r\n    g0110 *= norm10.y;\r\n    g1010 *= norm10.z;\r\n    g1110 *= norm10.w;\r\n  \r\n    vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\r\n    g0011 *= norm11.x;\r\n    g0111 *= norm11.y;\r\n    g1011 *= norm11.z;\r\n    g1111 *= norm11.w;\r\n  \r\n    float n0000 = dot(g0000, Pf0);\r\n    float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\r\n    float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\r\n    float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\r\n    float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\r\n    float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\r\n    float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\r\n    float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\r\n    float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\r\n    float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\r\n    float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\r\n    float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\r\n    float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\r\n    float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\r\n    float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\r\n    float n1111 = dot(g1111, Pf1);\r\n  \r\n    vec4 fade_xyzw = fade(Pf0);\r\n    vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\r\n    vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\r\n    vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\r\n    vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\r\n    float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\r\n    return 2.2 * n_xyzw;\r\n  }`;\r\n  source = source.replace('__noise4d__', noise4d);\r\n  source = source.split('__split__');\r\n  var program = new webgl.Program(gl, source[0], source[1]);\r\n  return program;\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/twitter.680c9cf1.svg\";","module.exports = __webpack_public_path__ + \"static/media/twitch.a9e33e1f.svg\";","module.exports = __webpack_public_path__ + \"static/media/soundcloud.9a5d9da3.svg\";","module.exports = __webpack_public_path__ + \"static/media/youtube.1aca2eff.svg\";","var glm = require('gl-matrix');\r\nvar webgl = require('./webgl.js');\r\nvar util = require('./util.js');\r\nvar rng = require('rng');\r\n\r\nvar NSTARS = 100000;\r\n\r\n\r\nmodule.exports = class Space3D {\r\n  constructor () {\r\n    // Initialize the offscreen rendering canvas.\r\n    this.canvas = document.createElement('canvas');\r\n\r\n    // Initialize the gl context.\r\n    this.gl = this.canvas.getContext('webgl');\r\n    this.gl.enable(this.gl.BLEND);\r\n    this.gl.blendFuncSeparate(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA, this.gl.ZERO, this.gl.ONE);\r\n\r\n    // Load the programs.\r\n    var nebula = `#version 100\r\n    precision highp float;\r\n    \r\n    uniform mat4 uModel;\r\n    uniform mat4 uView;\r\n    uniform mat4 uProjection;\r\n    \r\n    attribute vec3 aPosition;\r\n    varying vec3 pos;\r\n    \r\n    void main () {\r\n      gl_Position = uProjection * uView * uModel * vec4(aPosition, 1);\r\n      pos = (uModel * vec4(aPosition, 1)).xyz;\r\n    }\r\n    \r\n    \r\n    __split__\r\n    \r\n    \r\n    #version 100\r\n    precision highp float;\r\n    \r\n    uniform vec3 uColor;\r\n    uniform vec3 uOffset;\r\n    uniform float uScale;\r\n    uniform float uIntensity;\r\n    uniform float uFalloff;\r\n    \r\n    varying vec3 pos;\r\n    \r\n    __noise4d__\r\n    \r\n    float noise (vec3 p) {\r\n        return 0.5 * cnoise(vec4(p, 0)) + 0.5;\r\n    }\r\n    \r\n    float nebula (vec3 p) {\r\n      const int steps = 6;\r\n      float scale = pow(2.0, float(steps));\r\n      vec3 displace;\r\n      for (int i = 0; i < steps; i++) {\r\n        displace = vec3(\r\n          noise(p.xyz * scale + displace),\r\n          noise(p.yzx * scale + displace),\r\n          noise(p.zxy * scale + displace)\r\n        );\r\n        scale *= 0.5;\r\n      }\r\n      return noise(p * scale + displace);\r\n    }\r\n    \r\n    void main () {\r\n      vec3 posn = normalize(pos) * uScale;\r\n      float c = min(1.0, nebula(posn + uOffset) * uIntensity);\r\n      c = pow(c, uFalloff);\r\n      gl_FragColor = vec4(uColor, c);\r\n    }`;\r\n    var pointStars = `#version 100\r\n    precision highp float;\r\n    \r\n    uniform mat4 uModel;\r\n    uniform mat4 uView;\r\n    uniform mat4 uProjection;\r\n    \r\n    attribute vec3 aPosition;\r\n    attribute vec3 aColor;\r\n    \r\n    varying vec3 color;\r\n    \r\n    void main () {\r\n      gl_Position = uProjection * uView * uModel * vec4(aPosition, 1);\r\n      color = aColor;\r\n    }\r\n    \r\n    \r\n    __split__\r\n    \r\n    \r\n    #version 100\r\n    precision highp float;\r\n    \r\n    \r\n    varying vec3 color;\r\n    \r\n    void main () {\r\n      gl_FragColor = vec4(color, 1.0);\r\n    }`;\r\n    var star = `#version 100\r\n    precision highp float;\r\n    \r\n    uniform mat4 uModel;\r\n    uniform mat4 uView;\r\n    uniform mat4 uProjection;\r\n    \r\n    attribute vec3 aPosition;\r\n    varying vec3 pos;\r\n    \r\n    void main () {\r\n      gl_Position = uProjection * uView * uModel * vec4(aPosition, 1);\r\n      pos = (uModel * vec4(aPosition, 1)).xyz;\r\n    }\r\n    \r\n    \r\n    __split__\r\n    \r\n    \r\n    #version 100\r\n    precision highp float;\r\n    \r\n    uniform vec3 uPosition;\r\n    uniform vec3 uColor;\r\n    uniform float uSize;\r\n    uniform float uFalloff;\r\n    \r\n    varying vec3 pos;\r\n    \r\n    void main () {\r\n      vec3 posn = normalize(pos);\r\n      float d = 1.0 - clamp(dot(posn, normalize(uPosition)), 0.0, 1.0);\r\n      float i = exp(-(d - uSize) * uFalloff);\r\n      float o = clamp(i, 0.0, 1.0);\r\n      gl_FragColor = vec4(uColor + i, o);\r\n    }`;\r\n    var sun = `#version 100\r\n    precision highp float;\r\n    \r\n    uniform mat4 uModel;\r\n    uniform mat4 uView;\r\n    uniform mat4 uProjection;\r\n    \r\n    attribute vec3 aPosition;\r\n    varying vec3 pos;\r\n    \r\n    void main () {\r\n      gl_Position = uProjection * uView * uModel * vec4(aPosition, 1);\r\n      pos = (uModel * vec4(aPosition, 1)).xyz;\r\n    }\r\n    \r\n    \r\n    __split__\r\n    \r\n    \r\n    #version 100\r\n    precision highp float;\r\n    \r\n    uniform vec3 uPosition;\r\n    uniform vec3 uColor;\r\n    uniform float uSize;\r\n    uniform float uFalloff;\r\n    \r\n    varying vec3 pos;\r\n    \r\n    void main () {\r\n      vec3 posn = normalize(pos);\r\n      float d = clamp(dot(posn, normalize(uPosition)), 0.0, 1.0);\r\n      float c = smoothstep(1.0 - uSize * 32.0, 1.0 - uSize, d);\r\n      c += pow(d, uFalloff) * 0.5;\r\n      vec3 color = mix(uColor, vec3(1,1,1), c);\r\n      gl_FragColor = vec4(color, c);\r\n    }`;\r\n    nebula = nebula.toString('utf-8');\r\n    pointStars = pointStars.toString('utf-8');\r\n    star = star.toString('utf-8');\r\n    sun = sun.toString('utf-8');\r\n    this.pNebula = util.loadProgram(this.gl, nebula);\r\n    this.pPointStars = util.loadProgram(this.gl, pointStars);\r\n    this.pStar = util.loadProgram(this.gl, star);\r\n    this.pSun = util.loadProgram(this.gl, sun);\r\n\r\n    // Create the point stars renderable.\r\n    var rand = new rng.MT(hashcode('best seed ever') + 5000);\r\n    var position = new Float32Array(18 * NSTARS);\r\n    var color = new Float32Array(18 * NSTARS);\r\n    for (var i = 0; i < NSTARS; i++) {\r\n      var size = 0.05;\r\n      var pos = glm.vec3.random(glm.vec3.create(), 1.0);\r\n      star = buildStar(size, pos, 128.0, rand);\r\n      position.set(star.position, i * 18);\r\n      color.set(star.color, i * 18);\r\n    }\r\n    var attribs = webgl.buildAttribs(this.gl, { aPosition: 3, aColor: 3 });\r\n    attribs.aPosition.buffer.set(position);\r\n    attribs.aColor.buffer.set(color);\r\n    var count = position.length / 9;\r\n    this.rPointStars = new webgl.Renderable(this.gl, this.pPointStars, attribs, count);\r\n\r\n    // Create the nebula, sun, and star renderables.\r\n    this.rNebula = buildBox(this.gl, this.pNebula);\r\n    this.rSun = buildBox(this.gl, this.pSun);\r\n    this.rStar = buildBox(this.gl, this.pStar);\r\n  }\r\n\r\n  render(params) {\r\n    // We'll be returning a map of direction to texture.\r\n    var textures = {};\r\n\r\n    // Handle changes to resolution.\r\n    this.canvas.width = this.canvas.height = params.resolution;\r\n    this.gl.viewport(0, 0, params.resolution, params.resolution);\r\n\r\n    // Initialize the point star parameters.\r\n    var rand = new rng.MT(hashcode(params.seed) + 1000);\r\n    var pStarParams = [];\r\n    while (params.pointStars) {\r\n      pStarParams.push({\r\n        rotation: randomRotation(rand),\r\n      });\r\n      if (rand.random() < 0.2) {\r\n        break;\r\n      }\r\n    }\r\n    // Initialize the star parameters.\r\n    rand = new rng.MT(hashcode(params.seed) + 3000);\r\n    var starParams = [];\r\n    while (params.stars) {\r\n      starParams.push({\r\n        pos: randomVec3(rand),\r\n        color: [1, 1, 1],\r\n        size: 0.0,\r\n        falloff: rand.random() * Math.pow(2, 20) + Math.pow(2, 20),\r\n      });\r\n      if (rand.random() < 0.01) {\r\n        break;\r\n      }\r\n    }\r\n    // Initialize the nebula parameters.\r\n    rand = new rng.MT(hashcode(params.seed) + 2000);\r\n    var nebulaParams = [];\r\n    while (params.nebulae) {\r\n      nebulaParams.push({\r\n        scale: rand.random() * 0.5 + 0.25,\r\n        color: [rand.random(), rand.random(), rand.random()],\r\n        intensity: rand.random() * 0.2 + 0.9,\r\n        falloff: rand.random() * 3.0 + 3.0,\r\n        offset: [rand.random() * 2000 - 1000, rand.random() * 2000 - 1000, rand.random() * 2000 - 1000],\r\n      });\r\n      if (rand.random() < 0.5) {\r\n        break;\r\n      }\r\n    }\r\n    // Initialize the sun parameters.\r\n    rand = new rng.MT(hashcode(params.seed) + 4000);\r\n    var sunParams = [];\r\n    if (params.sun) {\r\n      sunParams.push({\r\n        pos: randomVec3(rand),\r\n        color: [rand.random(), rand.random(), rand.random()],\r\n        size: rand.random() * 0.0001 + 0.0001,\r\n        falloff: rand.random() * 16.0 + 8.0,\r\n      });\r\n    }\r\n    // Create a list of directions we'll be iterating over.\r\n    var dirs = {\r\n      front: {\r\n        target: [0, 0, -1],\r\n        up: [0, 1, 0]\r\n      },\r\n      back: {\r\n        target: [0, 0, 1],\r\n        up: [0, 1, 0]\r\n      },\r\n      left: {\r\n        target: [-1, 0, 0],\r\n        up: [0, 1, 0]\r\n      },\r\n      right: {\r\n        target: [1, 0, 0],\r\n        up: [0, 1, 0]\r\n      },\r\n      top: {\r\n        target: [0, 1, 0],\r\n        up: [0, 0, 1]\r\n      },\r\n      bottom: {\r\n        target: [0, -1, 0],\r\n        up: [0, 0, -1]\r\n      }\r\n    };\r\n\r\n    // Define and initialize the model, view, and projection matrices.\r\n    var model = glm.mat4.create();\r\n    var view = glm.mat4.create();\r\n    var projection = glm.mat4.create();\r\n    glm.mat4.perspective(projection, Math.PI / 2, 1.0, 0.1, 256);\r\n    // Iterate over the directions to render and create the textures.\r\n    var keys = Object.keys(dirs);\r\n    for (var i = 0; i < keys.length; i++) {\r\n      // Clear the context.\r\n      this.gl.clearColor(0, 0, 0, 1);\r\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n      // Look in the direection for this texture.\r\n      var dir = dirs[keys[i]];\r\n      glm.mat4.lookAt(view, [0, 0, 0], dir.target, dir.up);\r\n      // Render the point stars.\r\n      this.pPointStars.use();\r\n      model = glm.mat4.create();\r\n      this.pPointStars.setUniform('uView', 'Matrix4fv', false, view);\r\n      this.pPointStars.setUniform('uProjection', 'Matrix4fv', false, projection);\r\n      for (var j = 0; j < pStarParams.length; j++) {\r\n        var ps = pStarParams[j];\r\n        glm.mat4.mul(model, ps.rotation, model);\r\n        this.pPointStars.setUniform('uModel', 'Matrix4fv', false, model);\r\n        this.rPointStars.render();\r\n      }\r\n      // Render the stars.\r\n      this.pStar.use();\r\n      this.pStar.setUniform('uView', 'Matrix4fv', false, view);\r\n      this.pStar.setUniform('uProjection', 'Matrix4fv', false, projection);\r\n      this.pStar.setUniform('uModel', 'Matrix4fv', false, model);\r\n      for (j = 0; j < starParams.length; j++) {\r\n        var s = starParams[j];\r\n        this.pStar.setUniform('uPosition', '3fv', s.pos);\r\n        this.pStar.setUniform('uColor', '3fv', s.color);\r\n        this.pStar.setUniform('uSize', '1f', s.size);\r\n        this.pStar.setUniform('uFalloff', '1f', s.falloff);\r\n        this.rStar.render();\r\n      }\r\n      // Render the nebulae.\r\n      this.pNebula.use();\r\n      model = glm.mat4.create();\r\n      for (j = 0; j < nebulaParams.length; j++) {\r\n        var p = nebulaParams[j];\r\n        this.pNebula.setUniform('uModel', 'Matrix4fv', false, model);\r\n        this.pNebula.setUniform('uView', 'Matrix4fv', false, view);\r\n        this.pNebula.setUniform('uProjection', 'Matrix4fv', false, projection);\r\n        this.pNebula.setUniform('uScale', '1f', p.scale);\r\n        this.pNebula.setUniform('uColor', '3fv', p.color);\r\n        this.pNebula.setUniform('uIntensity', '1f', p.intensity);\r\n        this.pNebula.setUniform('uFalloff', '1f', p.falloff);\r\n        this.pNebula.setUniform('uOffset', '3fv', p.offset);\r\n        this.rNebula.render();\r\n      }\r\n      // Render the suns.\r\n      this.pSun.use();\r\n      this.pSun.setUniform('uView', 'Matrix4fv', false, view);\r\n      this.pSun.setUniform('uProjection', 'Matrix4fv', false, projection);\r\n      this.pSun.setUniform('uModel', 'Matrix4fv', false, model);\r\n      for (j = 0; j < sunParams.length; j++) {\r\n        var sun = sunParams[j];\r\n        this.pSun.setUniform('uPosition', '3fv', sun.pos);\r\n        this.pSun.setUniform('uColor', '3fv', sun.color);\r\n        this.pSun.setUniform('uSize', '1f', sun.size);\r\n        this.pSun.setUniform('uFalloff', '1f', sun.falloff);\r\n        this.rSun.render();\r\n      }\r\n      // Create the texture.\r\n      var c = document.createElement('canvas');\r\n      c.width = c.height = params.resolution;\r\n      var ctx = c.getContext('2d');\r\n      ctx.drawImage(this.canvas, 0, 0);\r\n      textures[keys[i]] = c;\r\n    }\r\n    return textures;\r\n  }\r\n}\r\n\r\n\r\nfunction buildStar(size, pos, dist, rand) {\r\n  var c = Math.pow(rand.random(), 4.0);\r\n  var color = [\r\n    c, c, c,\r\n    c, c, c,\r\n    c, c, c,\r\n    c, c, c,\r\n    c, c, c,\r\n    c, c, c\r\n  ];\r\n\r\n  var vertices = [\r\n    [-size, -size, 0],\r\n    [size, -size, 0],\r\n    [size, size, 0],\r\n    [-size, -size, 0],\r\n    [size, size, 0],\r\n    [-size, size, 0]\r\n  ];\r\n\r\n  var position = [];\r\n\r\n  for (var ii = 0; ii < 6; ii++) {\r\n    var rot = quatRotFromForward(pos);\r\n    glm.vec3.transformQuat(vertices[ii], vertices[ii], rot);\r\n    vertices[ii][0] += pos[0] * dist;\r\n    vertices[ii][1] += pos[1] * dist;\r\n    vertices[ii][2] += pos[2] * dist;\r\n    position.push.apply(position, vertices[ii]);\r\n  }\r\n\r\n  return {\r\n    position: position,\r\n    color: color\r\n  };\r\n}\r\n\r\n\r\nfunction buildBox(gl, program) {\r\n  var position = [\r\n    -1, -1, -1,\r\n    1, -1, -1,\r\n    1, 1, -1,\r\n    -1, -1, -1,\r\n    1, 1, -1,\r\n    -1, 1, -1,\r\n\r\n    1, -1, 1,\r\n    -1, -1, 1,\r\n    -1, 1, 1,\r\n    1, -1, 1,\r\n    -1, 1, 1,\r\n    1, 1, 1,\r\n\r\n    1, -1, -1,\r\n    1, -1, 1,\r\n    1, 1, 1,\r\n    1, -1, -1,\r\n    1, 1, 1,\r\n    1, 1, -1,\r\n\r\n    -1, -1, 1,\r\n    -1, -1, -1,\r\n    -1, 1, -1,\r\n    -1, -1, 1,\r\n    -1, 1, -1,\r\n    -1, 1, 1,\r\n\r\n    -1, 1, -1,\r\n    1, 1, -1,\r\n    1, 1, 1,\r\n    -1, 1, -1,\r\n    1, 1, 1,\r\n    -1, 1, 1,\r\n\r\n    -1, -1, 1,\r\n    1, -1, 1,\r\n    1, -1, -1,\r\n    -1, -1, 1,\r\n    1, -1, -1,\r\n    -1, -1, -1\r\n  ];\r\n  var attribs = webgl.buildAttribs(gl, { aPosition: 3 });\r\n  attribs.aPosition.buffer.set(new Float32Array(position));\r\n  var count = position.length / 9;\r\n  var renderable = new webgl.Renderable(gl, program, attribs, count);\r\n  return renderable;\r\n}\r\n\r\n\r\nfunction quatRotBetweenVecs(a, b) {\r\n  var theta = Math.acos(glm.vec3.dot(a, b));\r\n  var omega = glm.vec3.create();\r\n  glm.vec3.cross(omega, a, b);\r\n  glm.vec3.normalize(omega, omega);\r\n  var rot = glm.quat.create();\r\n  glm.quat.setAxisAngle(rot, omega, theta);\r\n  return rot;\r\n}\r\n\r\n\r\nfunction quatRotFromForward(b) {\r\n  return quatRotBetweenVecs(glm.vec3.fromValues(0, 0, -1), b);\r\n}\r\n\r\n\r\nfunction randomRotation(rand) {\r\n  var rot = glm.mat4.create();\r\n  glm.mat4.rotateX(rot, rot, rand.random() * Math.PI * 2);\r\n  glm.mat4.rotateY(rot, rot, rand.random() * Math.PI * 2);\r\n  glm.mat4.rotateZ(rot, rot, rand.random() * Math.PI * 2);\r\n  return rot;\r\n}\r\n\r\n\r\nfunction randomVec3(rand) {\r\n  var v = [0, 0, 1];\r\n  var rot = randomRotation(rand);\r\n  glm.vec3.transformMat4(v, v, rot);\r\n  glm.vec3.normalize(v, v);\r\n  return v;\r\n}\r\n\r\n\r\nfunction hashcode(str) {\r\n  var hash = 0;\r\n  for (var i = 0; i < str.length; i++) {\r\n    var char = str.charCodeAt(i);\r\n    hash += (i + 1) * char;\r\n  }\r\n  return hash;\r\n}\r\n","var glm = require('gl-matrix');\r\nvar webgl = require('./webgl.js');\r\nvar util = require('./util.js');\r\n\r\n\r\nmodule.exports = class Skybox {\r\n  constructor(renderCanvas) {\r\n    this.renderCanvas = renderCanvas;\r\n    this.gl = renderCanvas.getContext('webgl2');\r\n    if (!this.gl) {\r\n      console.log('WebGL 2.0 not supported.')\r\n    }\r\n    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, true);\r\n    var skybox = `#version 100\r\n    precision highp float;\r\n    \r\n    uniform mat4 uModel;\r\n    uniform mat4 uView;\r\n    uniform mat4 uProjection;\r\n    \r\n    attribute vec3 aPosition;\r\n    attribute vec2 aUV;\r\n    \r\n    varying vec2 uv;\r\n    \r\n    void main () {\r\n      gl_Position = uProjection * uView * uModel * vec4(aPosition, 1);\r\n      uv = aUV;\r\n    }\r\n    \r\n    \r\n    __split__\r\n    \r\n    \r\n    #version 100\r\n    precision highp float;\r\n    \r\n    uniform sampler2D uTexture;\r\n    \r\n    varying vec2 uv;\r\n    \r\n    void main () {\r\n      gl_FragColor = texture2D(uTexture, uv);\r\n    }`;\r\n    skybox = skybox.toString('utf-8');\r\n    this.pSkybox = util.loadProgram(this.gl, skybox);\r\n    this.rSkybox = buildQuad(this.gl, this.pSkybox);\r\n    this.textures = {};\r\n  }\r\n\r\n  setTextures(canvases) {\r\n    this.textures = {};\r\n    var keys = Object.keys(canvases);\r\n    for (var i = 0; i < keys.length; i++) {\r\n      var c = canvases[keys[i]];\r\n      this.textures[keys[i]] = new webgl.Texture(this.gl, 0, c, c.width, c.height, {\r\n        min: this.gl.LINEAR_MIPMAP_LINEAR,\r\n        mag: this.gl.LINEAR,\r\n      });\r\n    }\r\n  }\r\n\r\n  render(view, projection) {\r\n    this.gl.viewport(0, 0, this.renderCanvas.width, this.renderCanvas.height);\r\n\r\n    var model = glm.mat4.create();\r\n\r\n    this.pSkybox.use();\r\n    this.pSkybox.setUniform('uView', 'Matrix4fv', false, view);\r\n    this.pSkybox.setUniform('uProjection', 'Matrix4fv', false, projection);\r\n\r\n    this.textures.front.bind();\r\n    this.pSkybox.setUniform('uModel', 'Matrix4fv', false, model);\r\n    this.rSkybox.render();\r\n\r\n    this.textures.back.bind();\r\n    glm.mat4.rotateY(model, glm.mat4.create(), Math.PI);\r\n    this.pSkybox.setUniform('uModel', 'Matrix4fv', false, model);\r\n    this.rSkybox.render();\r\n\r\n    this.textures.left.bind();\r\n    glm.mat4.rotateY(model, glm.mat4.create(), Math.PI / 2);\r\n    this.pSkybox.setUniform('uModel', 'Matrix4fv', false, model);\r\n    this.rSkybox.render();\r\n\r\n    this.textures.right.bind();\r\n    glm.mat4.rotateY(model, glm.mat4.create(), -Math.PI / 2);\r\n    this.pSkybox.setUniform('uModel', 'Matrix4fv', false, model);\r\n    this.rSkybox.render();\r\n\r\n    this.textures.top.bind();\r\n    glm.mat4.rotateX(model, glm.mat4.create(), Math.PI / 2);\r\n    this.pSkybox.setUniform('uModel', 'Matrix4fv', false, model);\r\n    this.rSkybox.render();\r\n\r\n    this.textures.bottom.bind();\r\n    glm.mat4.rotateX(model, glm.mat4.create(), -Math.PI / 2);\r\n    this.pSkybox.setUniform('uModel', 'Matrix4fv', false, model);\r\n    this.rSkybox.render();\r\n  }\r\n}\r\n\r\n\r\nfunction buildQuad(gl, program) {\r\n  var position = [\r\n    -1, -1, -1,\r\n    1, -1, -1,\r\n    1, 1, -1,\r\n    -1, -1, -1,\r\n    1, 1, -1,\r\n    -1, 1, -1,\r\n  ];\r\n  var uv = [\r\n    0, 0,\r\n    1, 0,\r\n    1, 1,\r\n    0, 0,\r\n    1, 1,\r\n    0, 1\r\n  ];\r\n  var attribs = webgl.buildAttribs(gl, { aPosition: 3, aUV: 2 });\r\n  attribs.aPosition.buffer.set(new Float32Array(position));\r\n  attribs.aUV.buffer.set(new Float32Array(uv));\r\n  var count = position.length / 9;\r\n  var renderable = new webgl.Renderable(gl, program, attribs, count);\r\n  return renderable;\r\n}\r\n","import React from 'react';\nimport './app.css';\nimport twitter from './twitter.svg';\nimport twitch from './twitch.svg';\nimport soundcloud from './soundcloud.svg';\nimport youtube from './youtube.svg';\n\nvar glm = require('gl-matrix');\nvar Space3D = require('./space-3d.js');\nvar Skybox = require('./skybox.js');\n\n\nvar fov = 60;\nfov = (fov / 360) * Math.PI * 2;\nvar pointStars = true;\nvar seed = (Math.random() * 1000000000000000000).toString(36);\nvar stars = true;\nvar sun = true;\nvar nebulae = true;\nvar resolution = 1024;\nvar animationSpeed = 0.015;\nvar unifiedTexture = true;\nvar renderCanvas = document.getElementById('render-canvas');\nrenderCanvas.width = window.innerWidth;\nrenderCanvas.height = window.innerHeight;\nvar skybox = new Skybox(renderCanvas);\nvar space = new Space3D(resolution);\nvar tick = 0.0;\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.renderSpace = this.renderSpace.bind(this);\n\n    this.renderTextures();\n    this.renderSpace();\n  }\n\n  hideUnified() {\n    document.getElementById('texture-canvas').style.display = 'none';\n  }\n\n  hideSplit() {\n    document.getElementById('texture-left').style.display = 'none';\n    document.getElementById('texture-right').style.display = 'none';\n    document.getElementById('texture-top').style.display = 'none';\n    document.getElementById('texture-bottom').style.display = 'none';\n    document.getElementById('texture-front').style.display = 'none';\n    document.getElementById('texture-back').style.display = 'none';\n  }\n\n  renderTextures() {\n    var textures = space.render({\n      seed: seed,\n      pointStars: pointStars,\n      stars: stars,\n      sun: sun,\n      nebulae: nebulae,\n      unifiedTexture: unifiedTexture,\n      resolution: resolution,\n    });\n    skybox.setTextures(textures);\n    var canvas = document.getElementById('texture-canvas');\n    canvas.width = 4 * resolution;\n    canvas.height = 3 * resolution;\n    var ctx = canvas.getContext('2d');\n    ctx.drawImage(textures.left, resolution * 0, resolution * 1);\n    ctx.drawImage(textures.right, resolution * 2, resolution * 1);\n    ctx.drawImage(textures.front, resolution * 1, resolution * 1);\n    ctx.drawImage(textures.back, resolution * 3, resolution * 1);\n    ctx.drawImage(textures.top, resolution * 1, resolution * 0);\n    ctx.drawImage(textures.bottom, resolution * 1, resolution * 2);\n\n    function drawIndividual(source, targetId) {\n      var canvas = document.getElementById(targetId);\n      canvas.width = canvas.height = resolution;\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(source, 0, 0);\n    }\n\n    drawIndividual(textures.left, 'texture-left');\n    drawIndividual(textures.right, 'texture-right');\n    drawIndividual(textures.front, 'texture-front');\n    drawIndividual(textures.back, 'texture-back');\n    drawIndividual(textures.top, 'texture-top');\n    drawIndividual(textures.bottom, 'texture-bottom');\n  }\n\n  renderSpace() {\n    this.hideUnified();\n    this.hideSplit();\n\n    tick += 0.0025 * animationSpeed;\n\n\n    var view = glm.mat4.create();\n    var projection = glm.mat4.create();\n\n    renderCanvas.width = window.innerWidth;\n    renderCanvas.height = window.innerHeight;\n\n    glm.mat4.lookAt(view, [0, 0, 0], [Math.cos(tick), Math.sin(tick * 0.555), Math.sin(tick)], [0, 1, 0]);\n\n    glm.mat4.perspective(projection, fov, renderCanvas.width / renderCanvas.height, 0.1, 8);\n\n    skybox.render(view, projection);\n\n    requestAnimationFrame(this.renderSpace)\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"information\">\n          <p>OCTAVIA</p>\n          <div className=\"links\">\n            <a href=\"https://twitter.com/octaviauwu\" target=\"_blank\" rel=\"noopener noreferrer\"><img src={twitter} alt=\"Twitter Link\"></img></a>\n            <a href=\"https://www.twitch.tv/octayyvia\" target=\"_blank\" rel=\"noopener noreferrer\"><img src={twitch} alt=\"Twitch Link\"></img></a>\n            <a href=\"https://www.soundcloud.com/octaviauwu\" target=\"_blank\" rel=\"noopener noreferrer\"><img src={soundcloud} alt=\"SoundCloud Link\"></img></a>\n            <a href=\"https://www.youtube.com/channel/UCo5iJfS9rDGTNyZmSKKHy5w\" target=\"_blank\" rel=\"noopener noreferrer\"><img src={youtube} alt=\"YouTube Link\"></img></a>\n          </div>\n        </div>\n        <div className=\"heart\">\n          <p>♡</p>\n        </div>\n        <div className=\"project-button\">\n          <button className=\"button\">PROJECTS</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}